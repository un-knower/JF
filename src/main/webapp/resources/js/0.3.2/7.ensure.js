webpackJsonp([7],{1362:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(569),l=a(r),o=n(10),i=a(o),s=n(56),u=a(s),d=n(281),p=a(d),b=n(7),c=a(b),h=n(279),f=a(h),g=n(280),m=a(g),x=n(12),w=a(x),v=n(3),C=a(v),y=n(6),_=a(y),D=n(4),k=a(D),T=n(5),S=a(T);n(570),n(282);var E=n(0),z=a(E),L=n(11),N=(a(L),n(20)),P=a(N);n(1368);var R=n(25),I=n(183),A=n(30),B=a(A),V=n(1),F=(a(V),n(184)),j=a(F),Y=n(567),M=a(Y);n(135).polyfill();var O=function(e){function t(e){(0,C.default)(this,t);var n=(0,k.default)(this,(t.__proto__||(0,w.default)(t)).call(this,e));return n.state={reportDataSources:[],commonControllers:[],sortType:void 0,sortColumn:void 0,tableLoading:!1,reportTitle:"",tableCurrentPage:1,reportDataSourcesTotal:0},n.handlePaginationOnChange=n.handlePaginationOnChange.bind(n),n.handleSortColumn=n.handleSortColumn.bind(n),n.commonControllers={start:{type:"startDate",name:"startDate",width:6,label:"统计开始日期：",defaultValue:R.Tools.getStartDefaultDate({date:n.props.date.c_cashclient_redemption_01,formart:"YYYY-MM-DD",addType:"months",addVal:-1}),labelCol:"40%",wrapperCol:"60%"},end:{type:"endDate",name:"endDate",width:6,label:"统计结束日期：",defaultValue:R.Tools.getStartDefaultDate({date:n.props.date.c_cashclient_redemption_01,formart:"YYYY-MM-DD"}),labelCol:"40%",wrapperCol:"60%"},queryBtn:{type:"button",name:"query",width:2,label:"查询",className:"ant-btn-primary",labelCol:"2%",wrapperCol:"98%",onClickBtn:n.clickQueryBtn.bind(n)},productid:{type:"treeSelect",name:"prodCode",placeholder:"请选择",width:5,label:"产品编号:",labelCol:"35%",wrapperCol:"65%",treeData:[],defaultValue:""},exportBtn:{type:"dropdown",name:"export",dropList:[{label:z.default.createElement("div",{className:"pdf_ico"},"PDF"),id:"pdf"},{label:z.default.createElement("div",{className:"xlsx_ico"},"XLSX"),id:"xlsx"}],labelCol:"2%",wrapperCol:"98%",width:2,label:"导出",className:"",onClickBtn:n.exportReport.bind(n)}},n.targetChildrenList=[],n.prevInputData={},n.reportList=[],n.defaultTargetList=[],n.isSortAndList={},n.reportId="16",n.allProdCode=[],n}return(0,S.default)(t,e),(0,_.default)(t,[{key:"getControllers",value:function(){var e=this.commonControllers;return[[e.start,e.end,e.productid,e.queryBtn,e.exportBtn]]}},{key:"componentDidMount",value:function(){function e(){return t.apply(this,arguments)}var t=(0,m.default)(f.default.mark(function e(){var t,n,a,r,l,o=this;arguments.length>0&&void 0!==arguments[0]&&arguments[0];return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this,e.next=3,(0,I.getBusinessProdCode)();case 3:n=e.sent,this.commonControllers.productid.treeData=[{value:"all",label:"全部",key:"all",children:n.map(function(e){return o.allProdCode.push(e.prod_code),{value:e.prod_code,label:e.prod_code,key:e.prod_code}})}],this.commonControllers.productid.defaultValue=["all"],this.defaultTargetList=j.default.report_table_title,a=this.getControllers(),this.setState({commonControllers:a,tableLoading:!0}),r={},a.map(function(e){e.map(function(e){void 0!=e.defaultValue&&(r[e.name]=e.defaultValue)})}),l=this.refs.filterController.setControllerData(r),"all"==l.prodCode&&(l.prodCode=this.allProdCode.join(",")),this.prevInputData=l,this.getReportDateFn();case 15:case"end":return e.stop()}},e,this)}));return e}()},{key:"getReportDateFn",value:function(){function e(){return t.apply(this,arguments)}var t=(0,m.default)(f.default.mark(function e(){var t,n,a,r,l,o=this;return f.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=(0,c.default)({},this.prevInputData,this.isSortAndList),e.t0=f.default.keys(t);case 2:if((e.t1=e.t0()).done){e.next=10;break}if(n=e.t1.value,""!=(a=t[n])&&void 0!=a&&null!=a&&0!=a.length){e.next=8;break}return p.default.info("请选择完整再进行查询"),e.abrupt("return",!1);case 8:e.next=2;break;case 10:return e.next=12,(0,I.getBusinessReport)((0,c.default)({},t,{reportId:this.reportId,page:this.state.tableCurrentPage,pageSize:j.default.report_default_page_size}));case 12:this.reportList=e.sent,r=[],this.reportList.data.map(function(e,t){var n={};B.default.map(o.defaultTargetList,function(t){e[t.field_name]&&(n[t.field_name]=e[t.field_name])}),r.push((0,c.default)({row_index:t+1,branch_name:e.branch_name},n,{key:t}))}),l=this.formatReportTitle({startDate:t.startDate,endDate:t.endDate}),this.setState({reportDataSources:r,reportTitle:l,tableLoading:!1,reportDataSourcesTotal:this.reportList.total});case 17:case"end":return e.stop()}},e,this)}));return e}()},{key:"formatDate",value:function(e){return 8==e.length?e.substring(0,4)+"."+e.substring(4,6)+"."+e.substring(6,8):6==e.length?e.substring(0,4)+"年"+e.substring(4,6)+"月":4==e.length?e.substring(0,4)+"年":e}},{key:"formatReportTitle",value:function(e){var t=e.startDate,n=e.endDate;return j.default.managerxin_report_title+"（"+this.formatDate("year"==this.radioDefaultValue?t.substring(0,4):"month"==this.radioDefaultValue?t.substring(0,6):t)+"-"+this.formatDate("year"==this.radioDefaultValue?n.substring(0,4):"month"==this.radioDefaultValue?n.substring(0,6):n)+"）"}},{key:"handlePaginationOnChange",value:function(e){var t=this;this.setState({tableLoading:!0,tableCurrentPage:e},function(){t.getReportDateFn()})}},{key:"exportReport",value:function(e){var t=B.default.extend({},this.prevInputData);t.reportId="16";var n=P.default.param((0,c.default)({},t,{exportType:e.key}));window.open(j.default.APP_BASE_URL+"/jr_report/jsp/reportExp.jsp?"+n)}},{key:"clickQueryBtn",value:function(){var e=this.refs.filterController.getControllerData(),t=M.default.fromJS(this.prevInputData),n=M.default.fromJS(e);M.default.is(t,n)||("all"==e.prodCode&&(e.prodCode=this.allProdCode.join(",")),this.setState({tableLoading:!0}),this.prevInputData=B.default.extend({},e),this.isSortAndList={},this.getReportDateFn())}},{key:"handleSortColumn",value:function(e,t){this.setState({sortColumn:e,sortType:t,tableLoading:!0}),this.isSortAndList={orderKey:e,order:t},this.getReportDateFn()}},{key:"getReportData",value:function(){var e=this.state,t=e.reportDataSources,n=e.sortColumn,a=e.sortType;if(n&&a){var r=t.sort(function(e,t){var r=e[n],l=t[n];return isNaN(Number(r))?"object"===(void 0===r?"undefined":(0,u.default)(r))?r=Number(r.props.children):["%","‰"].indexOf(r.substring(r.length-1))>-1?"-"===r.substring(0,1)&&1===r.length?r=9999999999:(r=Number(r.substring(0,r.length-1)),console.log(r)):r=r.charCodeAt():r=Number(r),l=isNaN(Number(l))?"object"===(void 0===l?"undefined":(0,u.default)(l))?Number(l.props.children):["%","‰"].indexOf(l.substring(l.length-1))>-1?"-"===l.substring(0,1)&&1===l.length?9999999999:Number(l.substring(0,l.length-1)):l.charCodeAt():Number(l),"asc"===a?r-l:l-r});return r.map(function(e,t){e.row_index=t+1}),r}return t.map(function(e,t){e.row_index=t+1}),t}},{key:"returnTipTable",value:function(e){var t=j.default.TARGETTIPLIST.category,n=j.default.TARGETTIPLIST.index,a=t[e].index.map(function(e){return n[e]});return z.default.createElement(R.TipTable,{info:a})}},{key:"render",value:function(){var e=this,t=z.default.createElement(R.FilterController,{ref:"filterController",controllers:this.state.commonControllers}),n=[z.default.createElement(R.Column,(0,i.default)({align:"center",width:50,key:"row_index",resizable:!0,fixed:!0},"width",70),z.default.createElement(R.HeaderCell,null,"序号"),z.default.createElement(R.Cell,{dataKey:"row_index"}))];this.defaultTargetList.map(function(e){n.push(z.default.createElement(R.Column,{align:"center",key:e.index_id,resizable:!0,sortable:!0,width:260},z.default.createElement(R.HeaderCell,{width:41},e.name),z.default.createElement(R.Cell,{dataKey:e.field_name})))});var a=this.state.reportDataSources.length>0;return z.default.createElement("div",null,z.default.createElement(R.PanelContainer,{hasFilter:z.default.createElement("div",null," ",t," "),title:"申购赎回",hasTip:function(){return e.returnTipTable("74")}},z.default.createElement("div",{className:"transaction_table_bb report_table report_right"},z.default.createElement("div",{className:"management_pagination_bg"}),z.default.createElement(R.JfCard,{title:z.default.createElement("div",null,z.default.createElement("span",null,this.state.reportTitle),z.default.createElement("span",{className:"pull-right"},"单位：万元")),loading:this.state.tableLoading},a?z.default.createElement("div",null,z.default.createElement(R.Table,{data:this.getReportData(),sortColumn:this.state.sortColumn,sortType:this.state.sortType,onSortColumn:this.handleSortColumn,height:770},n),z.default.createElement(l.default,{current:this.state.tableCurrentPage,pageSize:j.default.report_default_page_size,total:this.state.reportDataSourcesTotal,onChange:this.handlePaginationOnChange})):z.default.createElement("div",{className:"ant-table-placeholder"},z.default.createElement("span",null,z.default.createElement("i",{className:"anticon anticon-frown-o"}),"暂无数据"))))),z.default.createElement("div",{className:"layout-footer"},"本页数据更新至",this.props.date.c_cashclient_redemption_01))}}]),t}(E.Component);t.default=O,e.exports=O},1368:function(e,t,n){var a=n(1369);"string"==typeof a&&(a=[[e.i,a,""]]);n(18)(a,{});a.locals&&(e.exports=a.locals)},1369:function(e,t,n){t=e.exports=n(17)(),t.push([e.i,'.rsuite-table {\n  border: 1px solid #eee;\n  position: relative;\n  overflow: hidden;\n}\n.rsuite-table.column-resizing {\n  cursor: ew-resize;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n.rsuite-table-sortable {\n  position: absolute;\n}\n.rsuite-table-sortable .icon-sort {\n  color: #aaa;\n}\n.rsuite-table-sortable .icon-sort-asc,\n.rsuite-table-sortable .icon-sort-desc {\n  color: #0ae;\n}\n.rsuite-table-row {\n  overflow: hidden;\n  position: absolute;\n  height: 36px;\n  width: 100%;\n  top: 0;\n  border-bottom: 1px solid #eee;\n}\n.rsuite-table-row:hover {\n  background: #f5f5f5;\n}\n.rsuite-table-row:hover .rsuite-table-cell-group {\n  background: #f5f5f5;\n}\n.rsuite-table-row:hover .rsuite-table-cell {\n  background: #f5f5f5;\n}\n.rsuite-table.table-hover .rsuite-table-row-header {\n  background: #f5f5f5;\n}\n.rsuite-table.table-hover .rsuite-table-row-header .rsuite-table-cell {\n  background: #f5f5f5;\n}\n.rsuite-table.table-hover .rsuite-table-row-header.shadow {\n  -moz-box-shadow: 0 2px 3px rgba(0, 0, 0, 0.28);\n  -webkit-box-shadow: 0 2px 3px rgba(0, 0, 0, 0.28);\n  box-shadow: 0 2px 3px rgba(0, 0, 0, 0.28);\n  z-index: 5;\n}\n.rsuite-table-header-row-wrapper {\n  z-index: 2;\n  position: relative;\n}\n.rsuite-table-body-row-wrapper {\n  position: relative;\n  overflow: hidden;\n  z-index: 0;\n}\n.rsuite-table-body-info {\n  width: 100%;\n  text-align: center;\n  top: 50%;\n  position: absolute;\n  margin-top: -20px;\n  line-height: 40px;\n}\n.rsuite-table-body-info .icon {\n  margin: 0 10px;\n}\n.rsuite-table-body-info-wheel-area {\n  width: 100%;\n}\n.rsuite-table-loading-wrapper {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  background: rgba(45, 45, 45, 0.5);\n  color: #fff;\n}\n.rsuite-table-loading {\n  width: 100%;\n  text-align: center;\n  top: 50%;\n  position: absolute;\n  margin-top: -20px;\n  line-height: 40px;\n}\n.rsuite-table-loading .icon {\n  margin: 0 10px;\n}\n.rsuite-table-cell {\n  height: 36px;\n  border-style: solid;\n  border-width: 0;\n  border-color: #eee;\n  display: block;\n  overflow: hidden;\n  position: absolute;\n  white-space: normal;\n  background: #fff;\n}\n.rsuite-table-cell.sortable {\n  cursor: pointer;\n}\n.rsuite-table-cell.first {\n  border-left-width: 0;\n}\n.rsuite-table-cell-wrap1 {\n  display: table;\n}\n.rsuite-table-cell-wrap2 {\n  display: table-row;\n}\n.rsuite-table-cell-wrap3 {\n  display: table-cell;\n  vertical-align: middle;\n}\n.rsuite-table-cell-content {\n  padding: 8px;\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  -ms-text-overflow: ellipsis;\n  -o-text-overflow: ellipsis;\n  width: 100%;\n}\n.rsuite-table-column-resize-spanner {\n  height: 36px;\n  width: 6px;\n  z-index: 3;\n  position: absolute;\n  cursor: ew-resize !important;\n  outline: none;\n}\n.rsuite-table-column-resize-spanner:hover {\n  background: #00bcd4;\n}\n.rsuite-table-cell-group.fixed {\n  position: absolute;\n  z-index: 4;\n  background: #fff;\n}\n.rsuite-table-cell-group.shadow {\n  -moz-box-shadow: 3px 0px 5px rgba(9, 9, 9, 0.08);\n  -webkit-box-shadow: 3px 0px 5px rgba(9, 9, 9, 0.08);\n  box-shadow: 3px 0px 5px rgba(9, 9, 9, 0.08);\n}\n.rsuite-table-mouse-area {\n  display: none;\n  background: #00bcd4;\n  left: -1px;\n  top: 0;\n  position: absolute;\n  width: 1px;\n  z-index: 6;\n}\n.rsuite-table-bordered .rsuite-table-cell {\n  border-width: 0 1px 0 0;\n}\n.rsuite-table-pagination-wrapper {\n  background: #f5f5f5;\n  padding: 10px;\n}\n.rsuite-table-length-menu {\n  display: inline-block;\n  margin-left: 10px;\n}\n.rsuite-table-page-info {\n  display: inline-block;\n  margin-left: 10px;\n}\n.rsuite-table-pagination {\n  float: right;\n}\n.rsuite-table-pagination .pagination {\n  margin: 0;\n}\n.rsuite-table-pagination .disabled a {\n  background: #f5f5f5;\n  border-color: #f5f5f5;\n  color: #999;\n}\n.rsuite-table-treetable .rsuite-table-row {\n  position: relative;\n}\n.rsuite-table-treetable .rsuite-table-row .expand-icon {\n  width: 10px;\n  cursor: pointer;\n  outline: none;\n}\n.rsuite-table-treetable .rsuite-table-row .expand-icon:before {\n  content: "\\F0DA";\n}\n.rsuite-table-treetable .children {\n  display: none;\n}\n.rsuite-table-treetable .open > .children {\n  display: block;\n}\n.rsuite-table-treetable .open > .rsuite-table-row .expand-icon:before {\n  content: "\\F0D7";\n}\n.rsuite-table-scrollbar-wrapper {\n  background: rgba(45, 45, 45, 0.05);\n  position: absolute;\n  transition: background 1s;\n}\n.rsuite-table-scrollbar-wrapper.active {\n  background: rgba(45, 45, 45, 0.1);\n}\n.rsuite-table-scrollbar-wrapper.hide {\n  display: none;\n}\n.rsuite-table-scrollbar-wrapper .scrollbar-handle {\n  position: absolute;\n  background: rgba(45, 45, 45, 0.5);\n  border-radius: 4px;\n}\n.rsuite-table-scrollbar-wrapper.horizontal {\n  width: 100%;\n  height: 10px;\n  bottom: 2px;\n}\n.rsuite-table-scrollbar-wrapper.horizontal:hover,\n.rsuite-table-scrollbar-wrapper.horizontal.active {\n  height: 14px;\n  box-shadow: 1px 1px 2px #ddd inset;\n}\n.rsuite-table-scrollbar-wrapper.horizontal:hover .scrollbar-handle,\n.rsuite-table-scrollbar-wrapper.horizontal.active .scrollbar-handle {\n  top: 2px;\n  height: 10px;\n}\n.rsuite-table-scrollbar-wrapper.horizontal .scrollbar-handle {\n  height: 8px;\n  left: 0px;\n  top: 1px;\n}\n.rsuite-table-scrollbar-wrapper.vertical {\n  top: 0;\n  right: 0px;\n  width: 10px;\n  bottom: 2px;\n}\n.rsuite-table-scrollbar-wrapper.vertical:hover,\n.rsuite-table-scrollbar-wrapper.vertical.active {\n  width: 14px;\n  box-shadow: 1px 1px 2px #ddd inset;\n}\n.rsuite-table-scrollbar-wrapper.vertical:hover .scrollbar-handle,\n.rsuite-table-scrollbar-wrapper.vertical.active .scrollbar-handle {\n  left: 2px;\n  width: 10px;\n}\n.rsuite-table-scrollbar-wrapper.vertical .scrollbar-handle {\n  min-height: 20px;\n  width: 8px;\n  top: 0px;\n  left: 1px;\n}\n',""])}});